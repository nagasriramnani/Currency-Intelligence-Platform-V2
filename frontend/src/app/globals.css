@tailwind base;
@tailwind components;
@tailwind utilities;

@import '../styles/camping-loader.css';

/* ========================================
   ENTERPRISE DESIGN SYSTEM
   Bloomberg calm + Stripe clarity + Palantir confidence
   ======================================== */

:root {
  --foreground-rgb: 226, 232, 240;
  --background-start-rgb: 2, 6, 23;
  --background-end-rgb: 10, 15, 31;
  /* Enterprise accent colors - dynamically set by ThemeContext */
  --accent-primary: 59 130 246;
  --accent-light: 96 165 250;
  /* Trust signal colors */
  --signal-success: 5 150 105;
  --signal-warning: 217 119 6;
  --signal-danger: 220 38 38;
}

/* ========================================
   DYNAMIC ACCENT COLOR SYSTEM
   These classes use CSS variables that change with theme
   ======================================== */

/* Primary accent backgrounds */
.accent-bg {
  background-color: rgb(var(--accent-primary));
}

.accent-bg-light {
  background-color: rgb(var(--accent-light));
}

.accent-bg-subtle {
  background-color: rgb(var(--accent-primary) / 0.1);
}

/* Accent text colors */
.accent-text {
  color: rgb(var(--accent-primary));
}

.accent-text-light {
  color: rgb(var(--accent-light));
}

/* Accent borders */
.accent-border {
  border-color: rgb(var(--accent-primary));
}

.accent-border-light {
  border-color: rgb(var(--accent-light) / 0.5);
}

/* Accent shadows and glows */
.accent-glow {
  box-shadow: 0 0 20px rgb(var(--accent-primary) / 0.3);
}

.accent-glow-sm {
  box-shadow: 0 0 10px rgb(var(--accent-primary) / 0.2);
}

/* Accent gradients */
.accent-gradient {
  background: linear-gradient(135deg, rgb(var(--accent-primary)), rgb(var(--accent-light)));
}

/* Override specific UI elements to use accent color */
.glass-panel {
  border-color: rgb(var(--accent-primary) / 0.2);
}

.glass-panel:hover {
  border-color: rgb(var(--accent-primary) / 0.4);
}

/* Toggle switches use accent */
button[class*="rounded-full"][class*="bg-sapphire-500"] {
  background-color: rgb(var(--accent-primary)) !important;
}

/* Active nav items use accent */
.nav-active {
  background-color: rgb(var(--accent-primary) / 0.2);
  border-left: 3px solid rgb(var(--accent-primary));
}

/* KPI card accent line */
.kpi-accent-line {
  background: linear-gradient(90deg, transparent, rgb(var(--accent-primary)), transparent);
}

/* Chart accent colors */
.chart-accent-stroke {
  stroke: rgb(var(--accent-primary));
}

.chart-accent-fill {
  fill: rgb(var(--accent-primary) / 0.2);
}

body {
  color: rgb(var(--foreground-rgb));
  background: linear-gradient(to bottom,
      transparent,
      rgb(var(--background-end-rgb))) rgb(var(--background-start-rgb));
  min-height: 100vh;
  font-feature-settings: "cv02", "cv03", "cv04", "cv11";
  -webkit-font-smoothing: antialiased;
  /* Improved readability */
  line-height: 1.6;
  letter-spacing: 0.01em;
}

/* ========================================
   VISUAL HIERARCHY SYSTEM
   ======================================== */

@layer utilities {

  /* Tier 1 - Decision Signals */
  .tier-1 {
    @apply text-2xl font-semibold tracking-tight;
  }

  .tier-1-value {
    @apply text-3xl font-bold tracking-tight;
  }

  /* Tier 2 - Supporting Evidence */
  .tier-2 {
    @apply text-base font-medium text-sapphire-100;
  }

  /* Tier 3 - Raw Metrics */
  .tier-3 {
    @apply text-xs font-normal text-sapphire-300;
  }
}

@layer components {

  /* ========================================
     GLASS PANELS - Refined for enterprise
     ======================================== */
  .glass-panel {
    @apply bg-sapphire-800/50 backdrop-blur-xl border border-sapphire-700/40 shadow-xl shadow-sapphire-950/50 rounded-xl;
  }

  .glass-card {
    @apply bg-sapphire-800/30 backdrop-blur-md border border-sapphire-700/25 shadow-lg rounded-lg hover:bg-sapphire-800/40 hover:border-sapphire-600/40 transition-all duration-500 ease-out;
  }

  /* ========================================
     TYPOGRAPHY
     ======================================== */
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-sapphire-50 via-sapphire-100 to-sapphire-200;
  }

  .text-muted {
    @apply text-sapphire-300;
  }

  .text-secondary {
    @apply text-sapphire-100;
  }

  /* ========================================
     BUTTONS - Calm, authoritative
     ======================================== */
  .btn-primary {
    @apply bg-sapphire-500/90 text-white px-5 py-2 rounded-lg font-medium hover:bg-sapphire-500 hover:shadow-lg hover:shadow-sapphire-500/15 transition-all duration-300 ease-out focus:outline-none focus:ring-2 focus:ring-sapphire-400/50 focus:ring-offset-2 focus:ring-offset-sapphire-900;
  }

  .btn-secondary {
    @apply bg-sapphire-800/40 text-sapphire-100 border border-sapphire-600/50 px-5 py-2 rounded-lg font-medium backdrop-blur-sm hover:bg-sapphire-700/50 hover:border-sapphire-500/50 hover:text-white transition-all duration-300 ease-out focus:outline-none focus:ring-2 focus:ring-sapphire-500/50 focus:ring-offset-2 focus:ring-offset-sapphire-900;
  }

  .btn-ghost {
    @apply text-sapphire-300 px-4 py-2 rounded-lg font-medium hover:bg-sapphire-800/30 hover:text-sapphire-100 transition-all duration-300;
  }

  /* ========================================
     SIGNAL BADGES - Risk & Status
     ======================================== */
  .badge-success {
    @apply inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md bg-emerald-500/10 text-emerald-400 border border-emerald-500/20 text-xs font-medium;
  }

  .badge-warning {
    @apply inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md bg-amber-500/10 text-amber-400 border border-amber-500/20 text-xs font-medium;
  }

  .badge-danger {
    @apply inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md bg-crimson-500/10 text-crimson-400 border border-crimson-500/20 text-xs font-medium;
  }

  .badge-neutral {
    @apply inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md bg-sapphire-700/30 text-sapphire-200 border border-sapphire-600/30 text-xs font-medium;
  }

  /* ========================================
     RESEARCH PANEL - AI Insights
     ======================================== */
  .research-panel {
    @apply relative pl-4 border-l-2 border-sapphire-500/40;
  }

  .research-panel::before {
    content: '';
    @apply absolute left-0 top-0 bottom-0 w-0.5 bg-gradient-to-b from-sapphire-500/60 via-sapphire-500/30 to-transparent;
  }

  .research-header {
    @apply text-[10px] font-semibold uppercase tracking-widest text-sapphire-400 mb-2;
  }

  .research-content {
    @apply text-sm text-sapphire-100 leading-relaxed;
  }

  /* ========================================
     TRUST SIGNALS
     ======================================== */
  .trust-signal {
    @apply inline-flex items-center gap-1.5 text-[10px] text-sapphire-400;
  }

  .trust-dot {
    @apply w-1.5 h-1.5 rounded-full bg-emerald-500/80;
  }

  .trust-dot-warning {
    @apply w-1.5 h-1.5 rounded-full bg-amber-500/80;
  }

  /* ========================================
     CHARTS - Refined gridlines and axes
     ======================================== */
  .chart-container {
    @apply rounded-xl overflow-hidden;
  }

  /* ========================================
     METRIC CARDS
     ======================================== */
  .metric-card {
    @apply glass-card p-4 rounded-lg;
  }

  .metric-label {
    @apply text-[10px] uppercase tracking-widest text-sapphire-400 mb-1;
  }

  .metric-value {
    @apply text-xl font-semibold text-sapphire-50;
  }

  .metric-change-up {
    @apply text-emerald-400 text-sm font-medium;
  }

  .metric-change-down {
    @apply text-crimson-400 text-sm font-medium;
  }
}

/* ========================================
   CUSTOM SCROLLBAR - Subtle
   ======================================== */
::-webkit-scrollbar {
  width: 5px;
  height: 5px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: #1e293b;
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: #334155;
}

/* ========================================
   ANIMATIONS - Slow, deliberate
   ======================================== */
@keyframes fadeInSlow {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes slideInSubtle {
  from {
    opacity: 0;
    transform: translateY(8px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes drawLine {
  from {
    stroke-dashoffset: 1000;
  }

  to {
    stroke-dashoffset: 0;
  }
}

.animate-fade-slow {
  animation: fadeInSlow 0.8s ease-out forwards;
}

.animate-slide-subtle {
  animation: slideInSubtle 0.6s ease-out forwards;
}

/* Staggered animations for lists */
.animate-stagger>* {
  animation: slideInSubtle 0.5s ease-out forwards;
}

.animate-stagger>*:nth-child(1) {
  animation-delay: 0s;
}

.animate-stagger>*:nth-child(2) {
  animation-delay: 0.05s;
}

.animate-stagger>*:nth-child(3) {
  animation-delay: 0.1s;
}

.animate-stagger>*:nth-child(4) {
  animation-delay: 0.15s;
}

.animate-stagger>*:nth-child(5) {
  animation-delay: 0.2s;
}

/* ========================================
   MICRO-ANIMATIONS
   Count-up, bounce, pop-in, float, shimmer
   ======================================== */

/* Subtle bounce for direction arrows */
@keyframes bounce-subtle {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-3px);
  }
}

.animate-bounce-subtle {
  animation: bounce-subtle 2s ease-in-out infinite;
}

/* Pop-in animation for percentage badges */
@keyframes pop-in {
  0% {
    opacity: 0;
    transform: scale(0.8);
  }

  60% {
    transform: scale(1.05);
  }

  100% {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-pop-in {
  animation: pop-in 0.4s ease-out forwards;
}

/* Pulse glow for interactive elements */
@keyframes pulse-glow {

  0%,
  100% {
    box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.4);
  }

  50% {
    box-shadow: 0 0 20px 5px rgba(59, 130, 246, 0.2);
  }
}

.animate-pulse-glow {
  animation: pulse-glow 3s ease-in-out infinite;
}

/* Float animation for icons */
@keyframes float {

  0%,
  100% {
    transform: translateY(0) rotate(0deg);
  }

  25% {
    transform: translateY(-2px) rotate(-1deg);
  }

  75% {
    transform: translateY(2px) rotate(1deg);
  }
}

.animate-float {
  animation: float 4s ease-in-out infinite;
}

/* Chart line draw animation */
@keyframes draw-line {
  from {
    stroke-dashoffset: 2000;
  }

  to {
    stroke-dashoffset: 0;
  }
}

.animate-draw-line {
  stroke-dasharray: 2000;
  stroke-dashoffset: 2000;
  animation: draw-line 2s ease-out forwards;
}

/* Fade in up animation for cards */
@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fade-in-up 0.6s ease-out forwards;
}

/* Shimmer effect */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }

  100% {
    background-position: 200% 0;
  }
}

.animate-shimmer {
  background: linear-gradient(90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.05) 50%,
      transparent 100%);
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

/* Number highlight flash */
@keyframes number-flash {
  0% {
    color: inherit;
  }

  50% {
    color: #60a5fa;
    text-shadow: 0 0 10px rgba(96, 165, 250, 0.5);
  }

  100% {
    color: inherit;
  }
}

.animate-number-flash {
  animation: number-flash 0.3s ease-out;
}

/* Stagger children fade in */
.animate-stagger-fade>* {
  opacity: 0;
  animation: fade-in-up 0.5s ease-out forwards;
}

.animate-stagger-fade>*:nth-child(1) {
  animation-delay: 0.1s;
}

.animate-stagger-fade>*:nth-child(2) {
  animation-delay: 0.2s;
}

.animate-stagger-fade>*:nth-child(3) {
  animation-delay: 0.3s;
}

.animate-stagger-fade>*:nth-child(4) {
  animation-delay: 0.4s;
}

.animate-stagger-fade>*:nth-child(5) {
  animation-delay: 0.5s;
}

.animate-stagger-fade>*:nth-child(6) {
  animation-delay: 0.6s;
}